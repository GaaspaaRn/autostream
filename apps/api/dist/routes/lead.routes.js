"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.leadRoutes = void 0;
const express_1 = require("express");
const lead_controller_1 = require("../controllers/lead.controller");
const auth_middleware_1 = require("../middleware/auth.middleware");
const router = (0, express_1.Router)();
exports.leadRoutes = router;
// Rotas p√∫blicas
router.post('/', lead_controller_1.leadController.create);
// Rotas protegidas
router.get('/', auth_middleware_1.authenticate, lead_controller_1.leadController.list);
router.get('/:id', auth_middleware_1.authenticate, lead_controller_1.leadController.getById);
router.patch('/:id', auth_middleware_1.authenticate, lead_controller_1.leadController.update);
router.delete('/:id', auth_middleware_1.authenticate, lead_controller_1.leadController.archive);
router.get('/:id/recomendacoes', auth_middleware_1.authenticate, (0, auth_middleware_1.authorize)('ADMIN', 'GERENTE'), lead_controller_1.leadController.getRecomendacoes);
router.post('/:id/atribuir', auth_middleware_1.authenticate, (0, auth_middleware_1.authorize)('ADMIN', 'GERENTE'), lead_controller_1.leadController.atribuirVendedor);
router.post('/:id/atividades', auth_middleware_1.authenticate, lead_controller_1.leadController.addAtividade);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGVhZC5yb3V0ZXMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvcm91dGVzL2xlYWQucm91dGVzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBLHFDQUFpQztBQUNqQyxvRUFBZ0U7QUFDaEUsbUVBQXdFO0FBRXhFLE1BQU0sTUFBTSxHQUFHLElBQUEsZ0JBQU0sR0FBRSxDQUFDO0FBY0wsNEJBQVU7QUFaN0IsaUJBQWlCO0FBQ2pCLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLGdDQUFjLENBQUMsTUFBTSxDQUFDLENBQUM7QUFFeEMsbUJBQW1CO0FBQ25CLE1BQU0sQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLDhCQUFZLEVBQUUsZ0NBQWMsQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUNuRCxNQUFNLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRSw4QkFBWSxFQUFFLGdDQUFjLENBQUMsT0FBTyxDQUFDLENBQUM7QUFDekQsTUFBTSxDQUFDLEtBQUssQ0FBQyxNQUFNLEVBQUUsOEJBQVksRUFBRSxnQ0FBYyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQzFELE1BQU0sQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFLDhCQUFZLEVBQUUsZ0NBQWMsQ0FBQyxPQUFPLENBQUMsQ0FBQztBQUM1RCxNQUFNLENBQUMsR0FBRyxDQUFDLG9CQUFvQixFQUFFLDhCQUFZLEVBQUUsSUFBQSwyQkFBUyxFQUFDLE9BQU8sRUFBRSxTQUFTLENBQUMsRUFBRSxnQ0FBYyxDQUFDLGdCQUFnQixDQUFDLENBQUM7QUFDL0csTUFBTSxDQUFDLElBQUksQ0FBQyxlQUFlLEVBQUUsOEJBQVksRUFBRSxJQUFBLDJCQUFTLEVBQUMsT0FBTyxFQUFFLFNBQVMsQ0FBQyxFQUFFLGdDQUFjLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztBQUMzRyxNQUFNLENBQUMsSUFBSSxDQUFDLGlCQUFpQixFQUFFLDhCQUFZLEVBQUUsZ0NBQWMsQ0FBQyxZQUFZLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJvdXRlciB9IGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IHsgbGVhZENvbnRyb2xsZXIgfSBmcm9tICcuLi9jb250cm9sbGVycy9sZWFkLmNvbnRyb2xsZXInO1xuaW1wb3J0IHsgYXV0aGVudGljYXRlLCBhdXRob3JpemUgfSBmcm9tICcuLi9taWRkbGV3YXJlL2F1dGgubWlkZGxld2FyZSc7XG5cbmNvbnN0IHJvdXRlciA9IFJvdXRlcigpO1xuXG4vLyBSb3RhcyBww7pibGljYXNcbnJvdXRlci5wb3N0KCcvJywgbGVhZENvbnRyb2xsZXIuY3JlYXRlKTtcblxuLy8gUm90YXMgcHJvdGVnaWRhc1xucm91dGVyLmdldCgnLycsIGF1dGhlbnRpY2F0ZSwgbGVhZENvbnRyb2xsZXIubGlzdCk7XG5yb3V0ZXIuZ2V0KCcvOmlkJywgYXV0aGVudGljYXRlLCBsZWFkQ29udHJvbGxlci5nZXRCeUlkKTtcbnJvdXRlci5wYXRjaCgnLzppZCcsIGF1dGhlbnRpY2F0ZSwgbGVhZENvbnRyb2xsZXIudXBkYXRlKTtcbnJvdXRlci5kZWxldGUoJy86aWQnLCBhdXRoZW50aWNhdGUsIGxlYWRDb250cm9sbGVyLmFyY2hpdmUpO1xucm91dGVyLmdldCgnLzppZC9yZWNvbWVuZGFjb2VzJywgYXV0aGVudGljYXRlLCBhdXRob3JpemUoJ0FETUlOJywgJ0dFUkVOVEUnKSwgbGVhZENvbnRyb2xsZXIuZ2V0UmVjb21lbmRhY29lcyk7XG5yb3V0ZXIucG9zdCgnLzppZC9hdHJpYnVpcicsIGF1dGhlbnRpY2F0ZSwgYXV0aG9yaXplKCdBRE1JTicsICdHRVJFTlRFJyksIGxlYWRDb250cm9sbGVyLmF0cmlidWlyVmVuZGVkb3IpO1xucm91dGVyLnBvc3QoJy86aWQvYXRpdmlkYWRlcycsIGF1dGhlbnRpY2F0ZSwgbGVhZENvbnRyb2xsZXIuYWRkQXRpdmlkYWRlKTtcblxuZXhwb3J0IHsgcm91dGVyIGFzIGxlYWRSb3V0ZXMgfTsiXX0=